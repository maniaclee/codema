common:
  author: maniaclee
#  from: 'java://class/com.lvbby.codema.core.config.CommonCodemaConfig'
#  from: 'file://java:src//Users/psyco/workspace/github/codema/codema-core/src/main/java/com/lvbby/codema/core/config/CommonCodemaConfig.java'
  from: 'jdbc:mysql://localhost:3306/lvbby?user=root&table=article'
  result-handler:
      - 'com.lvbby.codema.java.result.JavaRegisterResultHandler'
      - 'com.lvbby.codema.core.result.handler.PrintResultHandler'
      - 'com.lvbby.codema.core.result.handler.FileWriterResultHandler'

maven:
  name: 'project'
  artifact-id: 'project'
  group-id: 'com.lvbby'
  java-version: '1.8'
  version: '0.1-SNAPSHOT'
  base-dir: '/Users/psyco/tmp'
  result-handler:
    - 'com.lvbby.codema.core.result.handler.FileWriterResultHandler'
  modules:
    - name: 'garfield-service'
      artifact-id: 'garfield-service'
    - name: 'garfield-api'
      artifact-id: 'garfield-api'
const:
    - &apiSrcDir '/Users/psyco/tmp/project/garfield-api/src/main/java'
    - &servicePackage 'com.lvbby.garfield.service'
    - &serviceSrcDir '/Users/psyco/tmp/project/garfield-service/src/main/java'
    - &serviceResourceDir '/Users/psyco/tmp/project/garfield-service/src/main/resources'
java:
  basic:
    dest-src-root: *serviceSrcDir
    dest-resource-root: *serviceResourceDir
    result-handler:
        - 'com.lvbby.codema.java.result.JavaRegisterResultHandler'
        - 'com.lvbby.codema.core.result.handler.FileWriterResultHandler'
        - 'com.lvbby.codema.core.result.handler.PrintResultHandler'

  bean:
    dest-package:  'com.lvbby.garfield.api.dto'
    dest-class-name: 'script://function:fromSuffix/DTO'
    dest-src-root: *apiSrcDir
    list:
      - {dest-package: &apiDoPackage 'com.lvbby.garfield.service.dal.entity',dest-class-name: 'script://function:suffix/DO' ,dest-src-root: *serviceSrcDir}
#  testcase:
#    from-package: 'com.lvbby.garfield.service'
#    dest-package: 'com.lvbby.testcase'
#    dest-src-root: '/Users/psyco/tmp/project/garfield-service/src/test/java'
#    is-spring: true
  convert:
    from-package: *apiDoPackage
    convert-to-class-name: 'script://function:replace/?regx=DO&replacement=DTO&prefix=com.lvbby.garfield.api.dto.'
    dest-package: 'com.lvbby.utils'
    dest-class-name: 'BuildUtils'
  mybatis:
    from-package: *apiDoPackage
    dest-package: &daoPackage 'com.lvbby.garfield.service.dal.dao'
    mapper-dir: 'mapper'
    config-package: 'com.lvbby.garfield.service.config'
  repository:
    from-package: *daoPackage
    dest-package: &repoPackage 'com.lvbby.repository'
    dest-class-name: 'script://function:replace/?regx=DODao&replacement=Repository'
    convert-utils-class: 'com.lvbby.utils.BuildUtils'
  interfaces:
    from-package: *repoPackage
    dest-package: 'com.lvbby.garfield.service.service'
    dest-class-name: 'script://function:replace/?regx=Repository&replacement=Service'
  delegate:
    from-package: *repoPackage
    dest-package: 'com.lvbby.garfield.service.service.impl'
    dest-class-name: 'script://function:replace/?regx=Repository&replacement=ServiceImpl'
    implement-interfaces:
        - 'script://function:replace/?regx=Repository&replacement=Service&prefix=com.lvbby.garfield.service.service.'
  spring-boot:
    dest-package: *servicePackage

#  es: {}

